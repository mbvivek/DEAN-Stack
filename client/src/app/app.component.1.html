<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Welcome to DEAN-Stack!
  </h1>
  <h2>
    A framework to build
    <u>D</u>App on
    <u>E</u>thereum blockchain with
    <u>A</u>ngular and
    <u>N</u>odeJS
  </h2>
  <hr>
</div>
<div>
  <table border="1" cellpadding="10">
    <tr>
      <th>
        Architecture
      </th>
      <th>
        Deploy a contract
      </th>
    </tr>
    <tr>
      <td>
        <img src="https://raw.githubusercontent.com/mbvivek/DEAN-Stack/master/Dean-Stack-Architecture.jpg" width="100%" height="auto"
          alt="DEAN Stack Architecture Diagram">
      </td>
      <td>
        <b>Below is a simple contract which takes a greeting message as the arguement.</b>
        <textarea cols="100" rows="10" readonly>
  /* Greet Contract */
  contract GreetContract {
  
      /* attributes */
      uint createdTime;
      address owner;
      string greetMessage;
  
      /* events */
      event GreetContractDeployed(uint time, address indexed owner, string greetMessage);
      event GreetContractUpdated(uint time, string greetMessage);
  
      /* constructor */
      function GreetContract(string _greetMessage) public payable {
          createdTime = now;
          owner = msg.sender;
          greetMessage = _greetMessage;
          GreetContractDeployed(createdTime, owner, greetMessage);
      }
  
      /* method */
      function updateMessage(string _greetMessage) public payable returns(bool) {
          if (msg.sender == owner) {
              greetMessage = _greetMessage;
              GreetContractUpdated(now, greetMessage);
              return true;
          } else {
              return false;
          }
      }
  }
      </textarea>
        <hr>
        <form #deployContractForm="ngForm" (submit)="deployContract($event, deployContractForm)">
          <b>Deploy this contract on the blockchain</b>
          <br>
          <label>Greeting Message: </label>
          <input type="text" class="form-control" name="deployContract_greetMessage" [(ngModel)]="deployContract_greetMessage" required>
          <button type="submit">Deploy Contract</button>
        </form>
        <hr>
        <form #getAllEventsForm="ngForm" (submit)="getAllEvents($event, getAllEventsForm)">
          <b>Get all events from the contract</b>
          <br>
          <label>Contract Address: </label>
          <input type="text" class="form-control" name="getAllEvents_contractAddress" [(ngModel)]="getAllEvents_contractAddress" required>
          <button type="submit">Get All Events</button>
        </form>
        <hr>
        <form #updateContractForm="ngForm" (submit)="updateContract($event, updateContractForm)">
          <b>Update the greeting message</b>
          <br>
          <label>Contract Address: </label>
          <input type="text" class="form-control" name="updateContract_contractAddress" [(ngModel)]="updateContract_contractAddress"
            required>
          <label>Greeting Message: </label>
          <input type="text" class="form-control" name="updateContract_greetMessage" [(ngModel)]="updateContract_greetMessage" required>
          <button type="submit">Update Contract</button>
        </form>
      </td>
    </tr>
  </table>
  <hr>
  <b>Logs:</b>
  <div style="width: 100%; height: 200px; overflow-y: scroll;">
    <ol>
      <li *ngFor="let log of logs">
        <pre>{{log.heading}} <br> {{log.body}}</pre>
      </li>
    </ol>
  </div>
</div>